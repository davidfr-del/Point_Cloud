{
    "pipeline":[
      "./data/2713_1232.las",
      {
        "type":"filters.reprojection",
        "in_srs":"EPSG:32632",
        "out_srs":"EPSG:32632"
      },
      {
        "type":"filters.assign",
        "assignment":"Classification[:]=0"
      },
      {
        "type":"filters.smrf",
        "ignore":"Classification[7:7]",
        "slope":0.2,
        "window":16,
        "threshold":0.45,
        "scalar":1.2
      },
      {
        "type": "filters.hag_nn"
      },
      {
        "type": "filters.range",
        "limits": "HeightAboveGround[5:)"
      },
      {
        "type":"filters.range",
        "limits":"Classification[0:0]"
      },
      {
        "type":"filters.covariancefeatures",
        "knn":20,
        "threads": 2,
        "feature_set": "X,Y,Z,Linearity"
    },
    {
        "type":"writers.bpf",
        "filename":"./data/2-planarity.bpf",
        "output_dims":"X,Y,Z,Linearity"
    },{
        "type":"writers.las",
        "filename":"./data/2-planarity.las",
        "minor_version":4,
        "extra_dims":"all"
    },{
        "type":"filters.assign",
        "value" :
    [
    "Classification = 9 WHERE Linearity >= 0.700" 
    ]},
    {
        "type":"filters.covariancefeatures",
        "knn":5,
        "threads": 2,
        "feature_set": "Linearity"
    },
    {
        "type":"writers.bpf",
        "filename":"./data/4-baja_tension.bpf",
        "output_dims":"X,Y,Z,Linearity"
    },{
        "type":"writers.las",
        "filename":"./data/4-baja_tension.las",
        "minor_version":4,
        "extra_dims":"all"
  
    }, {
        "type":"filters.assign",
        "value" :
    [
    "Classification = 7 WHERE (Linearity > 0.300) && (Classification != 9)" 
    ]},
     {
        "type":"filters.range",
        "limits":"Classification![7:7]"
    },
    {
        "type":"writers.las",
        "filename":"./data/6-filtra_baja_tension.las"
    },
    {
        "type":"filters.voxeldownsize",
        "cell":1.0,
        "mode":"center"
    },
    {
        "type":"filters.radialdensity",
        "radius":20.0
    },{
        "type":"filters.covariancefeatures",
        "knn":15,
        "threads": 2,
        "feature_set": "X,Y,Z,RadialDensity"
    },
    {
        "type":"writers.bpf",
        "filename":"./data/7-RadialDensity.bpf",
        "output_dims":"X,Y,Z,RadialDensity"
    },
    {
        "type":"writers.las",
        "filename":"./data/7-RadialDensity.las",
        "minor_version":4,
        "extra_dims":"all"
    }, {
        "type":"filters.assign",
        "value" :
[
  "Classification = 7 WHERE (RadialDensity >= 0.03) && (Classification !=9)"
  
]},
{
    "type":"filters.range",
    "limits":"Classification![7:7]"
},
{
    "type":"writers.las",
    "filename":"./data/9-filtra-RadialDensity.las"
}, 
{
    "type":"filters.voxeldownsize",
    "cell":1.0,
    "mode":"center"
},
{
    "type":"filters.radialdensity",
    "radius":5.0
},{
    "type":"filters.covariancefeatures",
    "knn":15,
    "threads": 2,
    "feature_set": "X,Y,Z,RadialDensity"
},
{
    "type":"writers.bpf",
    "filename":"./data/7-RadialDensity.bpf",
    "output_dims":"X,Y,Z,RadialDensity"
},
{
    "type":"writers.las",
    "filename":"./data/7-RadialDensity.las",
    "minor_version":4,
    "extra_dims":"all"
},{
    "type":"filters.assign",
    "value" :
[
"Classification = 7 WHERE (RadialDensity >= 0.05) && (Classification !=9)"

]
},
{
    "type":"filters.range",
    "limits":"Classification![7:7]"
},
{
    "type":"writers.las",
    "filename":"./data/9.2-filtra-RadialDensity_Arbustos.las"
},
{
    "type":"filters.covariancefeatures",
    "knn":50,
    "threads": 2,
    "feature_set": "X,Y,Z,Verticality"
},
{
    "type":"writers.bpf",
    "filename":"./data/10-verticality.bpf",
    "output_dims":"X,Y,Z,Verticality"
},{
    "type":"writers.las",
    "filename":"./data/10-verticality.las",
    "minor_version":4,
    "extra_dims":"all"
}, {
    "type":"filters.assign",
    "value" :
[
"Classification = 6 WHERE Verticality >= 0.5  && (Classification != 9)"
]
},{
    "type":"filters.range",
    "limits":"Classification[9:9],Classification[6:6]"
},
{
    "type":"writers.las",
    "filename":"./data/12-Clase15.las"
},
 {
    "type":"filters.dbscan",
    "min_points":25,
    "eps":20.0,
    "dimensions":"X,Y,Z"
},
{
    "type":"writers.bpf",
    "filename":"./data/13-dbscan.bpf",
    "output_dims":"X,Y,Z,ClusterID"
},{
  "type":"writers.las",
  "filename":"./data/13-dbscan.las",
  "minor_version":4,
  "extra_dims":"all"
},{
    "type": "filters.mongo",
    "expression": {
        "ClusterID": { "$in": [0,17]}
    }
},
"./data/14-filter-dbscan.las"
    ]
  }